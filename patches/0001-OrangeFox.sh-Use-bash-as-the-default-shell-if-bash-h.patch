From ab9f1bd2879f31473d6b428e2e7490bb13ade139 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Yilli=C3=A9?= <yilliee@protonmail.com>
Date: Fri, 1 Apr 2022 07:05:48 +0500
Subject: [PATCH 1/2] OrangeFox.sh : Use bash as the default shell if bash has
 just being copied/symlinked at runtime

---
 OrangeFox.sh | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/OrangeFox.sh b/OrangeFox.sh
index 78a7666..503429d 100755
--- a/OrangeFox.sh
+++ b/OrangeFox.sh
@@ -881,11 +881,12 @@ cat << EOF >> "$tmp1"
   	   done
   	   [ -f $sdcard_bin/nano ] && { rm -f /system/bin/nano; ln -sf $sdcard_bin/nano /system/bin/nano; }
    	fi
-   	[ -f $sdcard_bin/lzma ] && { rm -f /sbin/xz; ln -sf lzma /sbin/xz; }
+	[ -f /sbin/bash ] && { rm -f /system/bin/sh; ln -sf /sbin/bash /system/bin/sh; }
+	[ -f $sdcard_bin/lzma ] && { rm -f /sbin/xz; ln -sf lzma /sbin/xz; }
 	exit 0;
 EOF
 chmod 0755 $tmp1
- 
+
 # run the script to copy /sdcard/Fox/FoxFiles/bin/* to the ramdisk at runtime
 # source this script in postecoveryboot.sh ("source /sbin/from_fox_sd.sh")
 tmp1=$ramdisk_sbindir/from_fox_sd.sh
-- 
2.35.1

